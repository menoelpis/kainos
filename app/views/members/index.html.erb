<article ng-app="members" ng-controller="MemberSearchController">
	<header>
		<h1 class="h2">
			Member Search
		</h1>
	</header>

	<section class="search-form">
		<form>
			<div class="input-group input-group-lg">
				<label for="keywords" class="sr-only">Keywords</label>
				<input type="text"
				       name="keywords"
				       class="form-control input-lg"
				       placeholder="First Name, Last Name, or Email Address"
				       ng-model="keywords">
				<span class="input-group-btn">
					<button class="btn btn-primary" ng-click="search(keywords)">
						Find Members
					</button>
				</span>
			</div>
		</form>
		<h1 class="searchedFor" ng-if="searchedFor">
			<small>Searched for:</small> {{searchedFor}}
		</h1>
	</section>

	<section class="search-results">
		<header>
			<h1 class="h3">Results</h1>
		</header>

		<%= render partial: "pager", locals: { keywords: @keywords, page: @page } %>

		<ol class="list-group">
			<% @members.each do |member| %>
				<li class="list-group-item clearfix">
					<h3 class="pull-right">
						<small class="text-uppercase">Joined</small> 
						<%= l member.created_at.to_date %></h3>
					<h2 class="h3">
						<%= member.first_name %> <%= member.last_name %>
						<small><%= member.username %></small>
					</h2>
					<h4><%= member.email %></h4>
				</li>
			<% end %>
		</ol>
		<%= render partial: "pager", locals: { keywords: @keywords, page: @page } %>
	</section>
</article>